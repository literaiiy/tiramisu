{% extends "index.html" %}
{% block head %}
<head>
    <title>Profile for {{ username }} | tiramisu</title>
</head>
{% endblock %}

<div class="loader-wrapper z-50">
    <span class="loader"><span class="loader-inner"></span></span>
</div>
<script>
    $(window).on("load",function(){
      $(".loader-wrapper").fadeOut("slow");
    });
</script>

{% block content %}
<body>
    <div class='grid sm:grid-cols-1 md:grid-cols-9 lg:grid-cols-10 gap-6 sm:mx-5'>
        
        <!-- Table of Contents -->
        <div class='main row-start-1 sm:col-span-1 lg:col-span-1 md:col-span-2 md:row-end-27 lg:row-end-18'>
            <div id='overview' class='anchor'></div>
            <nav class="section-nav">
                <ol>
                    <li class='ml-2'><a href="#overview"><b>Overview</b></a></li>
                    <li class='ml-2'><a href="#skywars"><b>SkyWars</b></a></li>
                        <ul>
                            <li class=""><a href="#skywars-overall">Overall</a></li>
                            <li class=""><a href="#skywars-by-mode">Stats by mode</a></li>
                            <li class=""><a href="#skywars-heads">Heads</a></li>
                            <li class=""><a href="#skywars-kills-via">Kills via</a></li>
                            <li class=""><a href="#skywars-time">Time played</a></li>
                            <li class=""><a href="#skywars-souls">Souls</a></li>
                            <li class=""><a href="#skywars-maps-cages">Fav. Maps & Cages</a></li>
                            <li class=""><a href="#skywars-angels-descent">Angel's Descent</a></li>
                            <li class=""><a href="#skywars-challenges">Challenges</a></li>
                            <li class=""><a href="#skywars-cosmetics">Cosmetics</a></li>
                        </ul>
                    <li class='ml-2'><a href="#bedwars"><b>BedWars</b></a></li>
                        <ul>
                            <li class=""><a href="#bedwars-overall">Overall</a></li>
                            <li class=""><a href="#bedwars-by-mode">Stats by mode</a></li>
                            <li class=""><a href="#bedwars-kills-via">Kills via</a></li>
                            <li class=""><a href="#bedwars-loot-chests">Loot chests</a></li>
                            <li class=""><a href="#bedwars-final-kills">Final kills via</a></li>
                            <li class=""><a href="#bedwars-resources">Res. collected</a></li>
                            <li class=""><a href="#bedwars-cosmetics">Cosmetics</a></li>
                        </ul>
                    <li class='ml-2'><a href="#guild"><b>Guild</b></a></li>
                    <!-- <li><a href="#endpoints">Endpoints</a>
                        <ul>
                            <li class=""><a href="#endpoints--root">Root</a></li>
                            <li class=""><a href="#endpoints--cities-overview">Cities Overview</a></li>
                            <li class=""><a href="#endpoints--city-detail">City Detail</a></li>
                        </ul>
                    </li> -->
                </ol>
            </nav>
        </div>

        <!--- NAME HISTORY --->
        <div class=' sm:col-span-1 md:col-start-3 md:col-end-8 namehistable lg:col-start-2 lg:col-span-4 bg-gray-100 p-6 rounded-2xl shadow overflow-scroll overflow-y-auto overflow-x-auto'>
            <table id="table_id" class="compact hover">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Name</th> 
                        <th>Time changed</th>
                        <th>Duration had</th>
                    </tr>
                </thead>
                <tbody>
                    {% for dict_item in namehis %}
                    <tr>
                        {% for value in dict_item.values() %}
                            {% if value|int != 0 %}
                                <td><b>{{ value }}</b></td>
                            {% elif value == namehis[0]['name'] %}
                                <td><a href="/p/{{ value }}" style="text-decoration:none;color:#004D55" >{{ value }}</a></td>
                            {% elif value == namehis[namehis|length-1]['name'] %}
                                <td><a class="nhfirst" href="/p/{{ value }}" style="text-decoration:none;color:#00D7EF">{{ value }}</a></td>
                            {% elif value in dict_item['name'] %}
                                <td><a class="nhmiddle" href="/p/{{ value }}" style="text-decoration:none;color:#0092A2" >{{ value }}</a></td>
                            {% else %}
                                <td>{{ value }}</td>
                            {% endif %}
                        {% endfor %}
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <!------ PLAYER IMAGE ------>
        <div class="sm:col-span-1 lg:col-span-1 md:col-span-2 lg:col-start-6 image justify-self-center"><img src='https://mc-heads.net/body/{{uuid}}'><br></div>

        <!------ PLAYER DESC ------>
        <div class="sm:col-span-1 md:col-start-3 md:col-span-8 lg:col-span-3 lg:col-start-7 align-start">
            <!--- USERNAME --->
            <div id='username' class=' lg:text-3xl drop-shadow-lg lg:text-left-resp sm:text-center-resp sm:text-2xl'>
                {% if uuid == '35a178c0c37043aea959983223c04de0' %}
                    <h2 class="fleuraphile">
                        <b class=' font-black'>[MVP+]</b>
                        <span class=" font-extra-bold">{{username}}</span>
                        <b class=' font-black'> [{{ guildDict['tag'] }}]</b>
                        <i class="twa -mb-0.5 twa-1f370" title='Yes hello'></i>
                    </h2>
                {% else %}
                    {% if rankv3[0] %}
                        {% if rankv3[0] == 'YOUTUBE' %}
                            <b class='{{rankv3[2]}}'>[<b class='{{rankv3[3]}}'>{{rankv3[0]}}</b>]</b>
                        {% else %}
                            <b class='{{rankv3[2]}}'>[{{rankv3[0]}}<b class='{{rankv3[3]}}'>{{rankv3[1]}}</b>]</b>
                        {% endif %}
                    {% endif %}
                        {{username}}
                    {% if guildDict['tag'] %}
                        <b><span class='{{guildDict["tagColor"]}}'> [{{ guildDict['tag'] }}]<span></b>
                    {% endif %}
                {% endif %}
            </div>

            <div id='uuid' class=" text-xl font-extralight lg:text-left-resp sm:text-center-resp break-words">
                {{ uuid }}
            </div>
            <hr class='my-2'>

            <!--- SESSION --->
            <p>
                {% if currentSession  %}
                    <span class='dark_green'>Playing <b>{{ currentSession }}</b> - in <b>{{ sessionType }}</b></span>
                {% else %}
                    <b class='red'>Offline</b>
                        {% if lastSeenUnix < 756864000 %}
                            - last seen <b>{{lastSeen}}</b> ago
                            {% if lastPlayed %}
                                 playing <b>{{lastPlayed}}</b>
                            {% endif %}
                        {% endif %}
                {% endif %}
            </p>

            <!--- LEVEL --->
            <p>
                Level <b>{{ level }} {{ multiplier }}</b> / <b>{{ levelProgress }}</b>% to <b>{{ levelplusone }}</b><br>
            </p>

            <!-- K A Q -->
            <p>
                <b class='light_purple'>{{ reqList| those }}</b> karma <br>
                <b>{{ achievements| those }}</b> achievements for <b>{{ achpot| those }}</b> achievement points<br>
                <b class="yellow">{{ quests| those }}</b> quests finished<br>
            </p>

            <!-- TOTAL KILLS WINS COINS -->
            <p>
                <b>Total coins</b>: {{totalCoins| those}} <br>
                <b>Total kills</b>: {{totalKills| those}} <br>
                <b>Total wins</b>: {{totalWins| those}} <br>
            </p>

            <!--- GUILD --->
            {% if guildDict['success'] %} 
                <p>Rank <b>{{guildDict['selfGuildRank']}}</b> in guild <a href="#guild"><b>{{guildDict['name']}}</b></a>
                {% if guildDict['tag'] %}
                    <b class="{{guildDict['tagColor']}}">[{{guildDict['tag']}}]</b>
                {% endif %}
            {% endif %}

            {#% if guildList[0] != 0 %}
                <p><b>{{ guildList[2] }}</b> in guild <b>{{ guildList[1] }}<span class='{{ guildList[3] }}'> [{{ guildList[0] }}]<span></b></p>
            {% endif %#}

            <p>
                <!--- SENIORITY  --->
                {% if firstLoginUnix > 1357027200 %}
                <span class="{{ seniority[2] }}">{{ seniority[0] }} <b>Hypixel {{seniority[1]}}</b></span> - Joined <b>{{ joinedAgoText }}</b> ago<br>
                {% endif %}
            
                <!--- RANK SENIORITY --->
                {% if boughtPastTime != 0 %}
                    {% if newPackageRank == 'MVP_PLUS' %}
                        <b class='aqua'>[MVP<span class='red'>+</span>]</b> bought <b>{{boughtPastTime}}</b> - <b>{{boughtPastRank}}</b> ago
                    {% elif newPackageRank == 'MVP' %}
                        <b class='aqua'>[MVP]</b> bought <b>{{boughtPastTime}}</b> - <b>{{boughtPastRank}}</b> ago
                    {% elif newPackageRank == 'VIP_PLUS' %}
                        <b class='lime'>[VIP<span class='gold'>+</span>]</b> bought <b>{{boughtPastTime}}</b> - <b>{{boughtPastRank}}</b> ago
                    {% elif newPackageRank == 'VIP' %}
                        <b class='lime'>[VIP]</b> bought <b>{{boughtPastTime}}</b> - <b>{{boughtPastRank}}</b> ago
                    {% endif %}
                {% else %}
                
                {% endif %}
            </p>

                <!--- LAST SESSION/LAST LOGOUT/FIRST/LAST LOGIN --->
                {% if lastSession  %}
                    <b>Last session</b>: {{ lastSession }}<br>
                {% endif %}
                {% if lastLogoutUnix != 1 %}
                    <b>Last logout</b>: {{ lastLogout }}<br>
                {% endif %}
                {% if lastLoginUnix != 1 %}
                    <b>Last login</b>: {{ lastLogin }}<br>
                {% endif %}
                {% if firstLoginUnix != 1 %}
                    <b>First login</b>: {{ firstLogin }}
                {% else %}
                Has never logged onto Hypixel
                {% endif %}

            <p>
                <!--- SOCIAL MEDIA --->
                {% if twitter != [] %}
                    <i class="fab fa-twitter"></i> <a href='https://twitter.com' target='_blank' class="twitter"><b>Twitter</b></a>: <a class='link' href='{{ twitter[1] }}' target='_blank'>@{{ twitter[0] }}</a><br>
                {% endif %}
                {% if instagram != [] %}
                    <i class="fab fa-instagram"></i> <a href='https://instagram.com' target='_blank' class="instagram"><b>Instagram</b></a>: <a class='link' href='{{ instagram[1] }}' target='_blank'>@{{ instagram[0] }}</a><br>
                {% endif %}
                {% if twitch != [] %}
                    <i class="fab fa-twitch"></i> <a href='https://twitch.tv' target='_blank' class="twitch"><b>Twitch</b></a>: <a class='link' href='{{ twitch[1] }}' target='_blank'>@{{ twitch[0] }}</a><br>
                {% endif %}
                {% if discord != '' and 'discord.gg' not in discord %}
                    <i class="fab fa-discord"></i> <a href='https://discord.com' target='_blank' class="discord"><b>Discord</b></a>: @{{ discord }}<br>
                {% elif 'https://discord.gg' in discord or 'http://discord.gg' in discord %}
                    <i class="fab fa-discord"></i> <a href='https://discord.com' target='_blank' class="discord"><b>Discord</b></a>: <a class='link' href='{{ discord }}' target='_blank'>{{ discord }}</a><br>
                {% elif 'discord.gg' in discord %}
                    <i class="fab fa-discord"></i> <a href='https://discord.com' target='_blank' class="discord"><b>Discord</b></a>: <a class='link' href='https://{{ discord }}' target='_blank'>{{ discord }}</a><br>
                {% endif %}
                {% if hypixelForums != [] %}
                    <img src="https://raw.githubusercontent.com/gist/literaiiy/ef8dcabfe98d9beafd6c303fe2bc4b7f/raw/6a7fccbc4262cc15478f520bd4677c7d6d6484a9/htopixel%20(1).svg" alt="hypixel logo" style='height:1rem;float:left;margin-right:0.5rem;'> <a href='https://hypixel.net/forums' target='_blank' class="hypixelForums"><b>Hypixel Forums</b></a>: <a class='link' href='{{ hypixelForums[1] }}' target='_blank'>@{{ hypixelForums[0] }}</a><br>
                {% endif %}
                {% if youtube != [] %}
                    <i class="fab fa-youtube"></i> <a href='https://youtube.com' target='_blank' class="youtube"><b>YouTube</b></a>: <a class='link' href='{{ youtube[1] }}' target='_blank'>{{ youtube[0] }}</a><br>
                {% endif %}
            </p>

            <!-- LANG/GIFTS/VERSION -->
            <p>
                <b>Language</b>: {{userLanguage}}<br>
                {% if giftsMeta['giftsGiven'] %}
                    Sent <b>{{giftsMeta['giftsGiven']| those}}</b> gifts (<b>{{giftsMeta['bundlesGiven'] | those}}</b> bundles)<br>
                {% endif %}
                Plays on <b>{{userVersion}}</b><br>
            </p>

            <!-- REWARDS -->
            <p>
                <b>Reward streak</b>: <b>{{rewards[0]| those}}</b> (Best: <b>{{rewards[1]| those}}</b>) <br>
                <b>Rewards claimed</b>: <b>{{rewards[2]| those}}</b> (<b>{{rewards[3]| those}}</b> daily)
            </p>
            <a class='underline' href="https://mc-heads.net/download/{{uuid}}">Download skin</a>
        </div>

    <!------ PLAYER STATS ------>

        <!--- SkyWars --->
        <div class=' sm:col-span-1 md:col-start-3 md:col-span-8 lg:col-start-2 lg:col-end-10 bg-gray-100 rounded-2xl text-4xl font-bold p-6 shadow text-center bg-gradient-to-r from-green-300 to-blue-800 text-white two-px-border'>
            <div id='skywars' class='anchor'></div>
            SkyWars</div>
        <!-- Overall -->
        <div class=" sm:col-span-1 md:col-start-3 md:col-span-8 lg:col-start-2 lg:col-span-4 lg:row-span-2 bg-gray-100 p-6 rounded-2xl shadow divide-y divide-gray-300">
            <div class="text-3xl font-semibold pb-5">
                <div id='skywars-overall' class='anchor'></div>Overall</div>
            <div class='pt-5'>
                {% if swBestGame[1]  %}
                    {{ username }} plays <b>{{ swBestGame[1] }}</b> most often, with <b>{{ swBestGame[0]| those}}</b> games played.<br>
                {% endif %}
                <div class="grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-2">
                    <div>
                        <p>
                            <b><span class="{{ swUnscannedDict['prestige'][1] }}">[{{ swUnscannedDict['level'] }}{{swUnscannedDict['presIcon']}}]</span> {{username}}</b><br>
                            <b class="{{ swUnscannedDict['prestige'][1] }}">{{ swUnscannedDict['prestige'][0] }}</b> Prestige<br>
                            <span class="{{ swUnscannedDict['prestige'][1] }}"><b>{{swUnscannedDict['xpRemainder']| those}}</b> XP (<b>{{ swUnscannedDict['xpRemainderPerc'] }}</b>%)</span> to <b>{{ swUnscannedDict['level']+1 }}</b><br>
                            <b class="{{ swUnscannedDict['prestige'][1] }}">{{ swStatsDict['skywars_experience']| those }}</b> SkyWars experience <br>
                            <b>{{swUnscannedDict['xpRemainder']| those}}</b> kills or <b>{{swUnscannedDict['winsRemainder']| those}}</b> wins to level up<br>
                            <b class='{{ swUnscannedDict["head_tastiness"][1] }}'>{{ swUnscannedDict['head_tastiness'][0] }}</b> head <br>
                        </p>
                        <p>
                            <b>{{ swStatsDict['kills']| those }}</b> kills<br>
                            <b>{{ swStatsDict['assists']| those }}</b> assists <br>
                            <b>{{ swStatsDict['deaths']| those }}</b> deaths<br>
                            <b>{{ swUnscannedDict['K/D'] }}</b> K/D<br>
                            <b>{{ swUnscannedDict['KDA'] }}</b> K/D/A<br>
                        </p>
                        <p>
                            <b>{{ swStatsDict['wins']| those }}</b> wins<br>
                            <b>{{ swStatsDict['losses']| those }}</b> losses <br>
                            <b>{{ swUnscannedDict['W/L'] }}</b> W/L - <b>{{ swUnscannedDict['winrate'] }}</b>% win rate <br>
                        </p>
                        <p>
                            <b>{{ swStatsDict['win_streak']| those }}</b> winstreak<br>
                            <b>{{ swUnscannedDict['games_played']| those }}</b> games played <br>
                            <b>{{ swStatsDict['quits']| those }}</b> games quit<br>
                            <b>{{ swStatsDict['survived_players']| those }}</b> players survived <br>
                            Corruption chance: <b>{{swStatsDict['angel_of_death_level']}}</b>%<br>
                            <b>{{ swStatsDict['chests_opened']| those }}</b> chests opened<br>
                            <b>{{swStatsDict['refill_chest_destroy']| those}}</b> refill chests destroyed <br>
                        </p>
                    </div>
                    <div>
                        <p>
                            <span class='gold'><b>{{ swStatsDict['coins']| those }}</b> </span>coins<br>
                            <span class='dark_green'><b>{{swStatsDict['cosmetic_tokens']| those}}</b> </span>tokens<br>
                            <span class='aqua'><b>{{ swStatsDict['souls']| those }}</b> </span>souls<br>
                            <span class='light_purple'><b>{{ swStatsDict['heads']| those }}</b> </span>heads<br>
                        </p>
                        <p>
                            <b>{{swStatsDict['blocks_placed']| those}}</b> blocks placed <br>
                            <b>{{ swStatsDict['blocks_broken']| those }}</b> blocks broken <br>
                            <b>{{ swStatsDict['arrows_shot']| those }}</b> arrows shot <br>
                            <b>{{ swStatsDict['arrows_hit']| those }}</b> arrows hit<br>
                            <b>{{ swUnscannedDict['arrow_hitrate'] }}</b>% arrow hit rate<br>
                            <b>{{ swStatsDict['egg_thrown']| those }}</b> eggs thrown <br>
                            <b>{{ swStatsDict['enderpearls_thrown']| those}}</b> ender pearls thrown <br>
                        </p>
                        <p>
                            Fastest win: <b>{{ swStatsDict['fastest_win'] }}</b> <br>
                            Highest-kill game: <b>{{ swStatsDict['most_kills_game'] }} kills</b><br>
                            Farthest bow kill: <b>{{swStatsDict['longest_bow_kill']}} blocks</b> (<b>{{(swStatsDict['longest_bow_kill'] * 3.2808)| int}}</b> ft.)<br>
                        </p>
                        <p>
                            <b>{{ swUnscannedDict['K/W'] }}</b> kills per win <br>
                            <b>{{ swUnscannedDict['K/L'] }}</b> kills per loss <br>
                            <b>{{ swUnscannedDict['K/G'] }}</b> kills per game <br>
                            <b>{{ swUnscannedDict['blocks_placed_per_game'] }}</b> blocks placed per game <br>
                            <b>{{ swUnscannedDict['arrows_per_game'] }}</b> arrows shot per game <br>
                            <b>{{ swUnscannedDict['arrows_hit_per_game'] }}</b> arrows hit per game <br>
                            <b>{{ swUnscannedDict['eggs_per_game'] }}</b> eggs thrown per game <br>
                            <b>{{swUnscannedDict['pearls_per_game']}}</b> ender pearls thrown per game <br>
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <!-- SW MODE -->
        <div class=' sm:col-span-1 md:col-start-3 md:col-span-8 lg:col-start-6 lg:col-end-10 bg-gray-100 rounded-2xl p-6 shadow divide-y divide-gray-300'>
            {% if swUnscannedDict['games_played'] > 0 %}
                <div class="tabForYes pb-5">
                    <div id='skywars-by-mode' class='anchor'></div>
                    {% for y, x in gamemodes.items() %}
                        {% if x['games_played'] != 0 %}
                            <button class="tablinks text-2xl text-gray-600 p-1 mb-2 rounded-lg font-bold bg-gray-200 focus:bg-gray-300 focus:outline-none hover:bg-gray-300" onclick="openCity(event, '{{y}}')" id='defaultOpen'>{{y}}</button>
                        {% endif %}
                    {% endfor %}
                </div>
                {% for y, x in gamemodes.items() %}
                    {% if x['games_played'] != 0 %}
                    <div id="{{y}}" class="tabcontent pt-5">
                        <p>
                            {% if x["K/D"] > 100000 %}
                                {{username}} is unkillable in <b>{{y}}</b>! <br>
                                <span class='almost'><b>infinite</b></span> K/D
                                {% if x['W/L'] > 100000 %}
                                    & <span class='almost'><b>infinite</b></span> W/L. Awesome!
                                {% elif x['wlrel'] > 0 %}
                                    & <b>{{ x['wlrel']|abs }}</b> higher W/L (<span class='dark_green'>+<b>{{ x['wlrelperc']|abs }}</b>%</span>). Nice work!
                                {% elif x['wlrel'] < 0 %}
                                    & <b>{{ x['wlrel']|abs }}</b> lower W/L (<span class='red'><b>{{ x['wlrelperc'] }}</b>%</span>). Nice work!
                                {% endif %}
                            {% elif x['kdrel'] > 0 %}
                                {{username}} performs better in <b>{{y}}</b> than overall <br>
                                <b>{{ x['kdrel']|abs }}</b> higher K/D (<span class='dark_green'>+<b>{{ x['kdrelperc'] }}</b>%</span>)
                                {% if x['W/L'] > 100000 %}
                                    & <span class='almost'><b>infinite</b></span> W/L. Nice work!
                                {% elif x['wlrel'] > 0 %}
                                    & <b>{{ x['wlrel']|abs }}</b> higher W/L (<span class='dark_green'>+<b>{{ x['wlrelperc']|abs }}</b>%</span>).
                                {% elif x['wlrel'] < 0 %}
                                    & <b>{{ x['wlrel']|abs }}</b> lower W/L (<span class='red'><b>{{ x['wlrelperc'] }}</b>%</span>).
                                {% endif %}
    
                            {% elif x['kdrel'] < 0  %}
                                {{username}} performs worse in <b>{{y}}</b> than overall <br>
                                <b>{{ x['kdrel']|abs }}</b> lower K/D (<span class='red'><b>{{x['kdrelperc'] }}</b>%</span>)
                                {% if x['W/L'] > 100000 %}
                                    & <span class='almost'><b>infinite</b></span> W/L. Nice work!
                                {% elif x['wlrel'] > 0 %}
                                    & <b>{{ x['wlrel']|abs }}</b> higher W/L (<span class='dark_green'>+<b>{{ x['wlrelperc']|abs }}</b>%</span>).
                                {% elif x['wlrel'] < 0 %}
                                    &  <b>{{ x['wlrel']|abs }}</b> lower W/L (<span class='red'><b>{{ x['wlrelperc'] }}</b>%</span>).
                                {% endif %}
                            {% else %}
                                {{username}} performs as average in <b>{{y}}</b>.
                            {% endif %}
                        </p>
                        <div class="grid grid-cols-2 gap-2">
                            <div>
                                <br><b>{{ x['kills']| those }}</b> kills (<b>{{ x['kills%']|round(2) }}</b>%)
                                <br><b>{{ x['deaths']| those }}</b> deaths (<b>{{ x['deaths%']|round(2) }}</b>%)
                                {% if x["K/D"] > 100000 %}
                                    <br><b>∞</b> K/D
                                {% else %}
                                    <br><b>{{ x["K/D"] }}</b> K/D
                                {% endif %}
                                <br><b>{{x['wins']| those}}</b> wins (<b>{{ x['wins%']|round(2) }}</b>%)
                                <br><b>{{x['losses']| those}}</b> losses (<b>{{ x['losses%']|round(2) }}</b>%)
                                {% if x['W/L'] > 100000 %}
                                    <br><b>∞</b> W/L - <b>∞</b>% win rate
                                {% else %}
                                    <br><b>{{ x['W/L'] }}</b> W/L - <b>{{x['winperc']}}</b>% win rate
                                {% endif %}
                            </div>
                            <div>
                                <br><b>{{x['assists']| those}}</b> assists  (<b>{{ x['assists%']|round(2) }}</b>%)
                                <br><b>{{x['games_played']| those}}</b> games played (<b>{{ x['games_played%']|round(2) }}</b>%)
                                <br><b>{{ x['survived_players']| those }}</b> players survived (<b>{{ x['survived_players%']|round(2) }}</b>%)
                                {% if y != 'Laboratory' %}
                                    <br><b>{{x['kit']}}</b> currently equipped
                                {% endif %}
                                <br>Fastest win: <b>{{x['fastest_win']}}</b>
                                <br>Highest-kill game: <b>{{x['most_kills_game']}} kills</b>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                {% endfor %}
            {% else %}
            <p>No stats to show!</p>
            {% endif %}
        </div>
        <!-- SW MODE 2-->
        <div class=' sm:col-span-1 md:col-start-3 md:col-span-8 lg:col-start-6 lg:col-end-10 bg-gray-100 rounded-2xl p-6 shadow divide-y divide-gray-300'>
            {% if swUnscannedDict['games_played'] > 0 %}
                <div class="tabForYes2 pb-3">
                    {% for y, x in gamemodes2.items() %}
                        {% if x['games_played'] != 0 %}
                            <button class="tabgaming text-2xl text-gray-600 font-bold p-1 mb-2 rounded-lg bg-gray-200 focus:bg-gray-300 focus:outline-none hover:bg-gray-300" onclick="tabs2(event, '{{y}}')" id='defaultOpen2'>{{y}}</button>
                        {% endif %}
                    {% endfor %}
                </div>
                {% for y, x in gamemodes2.items() %}
                    {% if x['games_played'] != 0 %}
                    <div id='{{y}}' class="tabkontent pt-5">
                        <p>
                        {% if x["K/D"] > 100000 %}
                            {{username}} is unkillable in <b>{{y}}</b>! <br>
                            <span class='almost'><b>infinite</b></span> K/D
                            {% if x['W/L'] > 100000 %}
                                & <span class='almost'><b>infinite</b></span> W/L. Awesome!
                            {% elif x['wlrel'] > 0 %}
                                & <b>{{ x['wlrel']|abs }}</b> higher W/L (<span class='dark_green'>+<b>{{ x['wlrelperc']|abs }}</b>%</span>). Nice work!
                            {% elif x['wlrel'] < 0 %}
                                &  <b>{{ x['wlrel']|abs }}</b> lower W/L (<span class='red'><b>{{ x['wlrelperc'] }}</b>%</span>). Nice work!
                            {% endif %}
                        {% elif x['kdrel'] > 0 %}
                            {{username}} performs better in <b>{{y}}</b> than overall <br>
                            <b>{{ x['kdrel']|abs }}</b> higher K/D (<span class='dark_green'>+<b>{{ x['kdrelperc'] }}</b>%</span>)
                            {% if x['W/L'] > 100000 %}
                                & <span class='almost'><b>infinite</b></span> W/L. Nice work!
                            {% elif x['wlrel'] > 0 %}
                                & <b>{{ x['wlrel']|abs }}</b> higher W/L (<span class='dark_green'>+<b>{{ x['wlrelperc']|abs }}</b>%</span>).
                            {% elif x['wlrel'] < 0 %}
                                & <b>{{ x['wlrel']|abs }}</b> lower W/L (<span class='red'><b>{{ x['wlrelperc'] }}</b>%</span>).
                            {% endif %}
    
                        {% elif x['kdrel'] < 0  %}
                            {{username}} performs worse in <b>{{y}}</b> than overall <br>
                            <b>{{ x['kdrel']|abs }}</b> lower K/D (<span class='red'><b>{{x['kdrelperc'] }}</b>%</span>)
                            {% if x['W/L'] > 100000 %}
                                & <span class='almost'><b>infinite</b></span> W/L. Nice work!
                            {% elif x['wlrel'] > 0 %}
                                & <b>{{ x['wlrel']|abs }}</b> higher W/L (<span class='dark_green'>+<b>{{ x['wlrelperc']|abs }}</b>%</span>).
                            {% elif x['wlrel'] < 0 %}
                                &  <b>{{ x['wlrel']|abs }}</b> lower W/L (<span class='red'><b>{{ x['wlrelperc'] }}</b>%</span>).
                            {% endif %}
                        {% else %}
                            {{username}} performs as average in Solo.
                        {% endif %}
                        </p>
                        <div class="grid grid-cols-2 gap-2">
                            <div>
                                <br><b>{{ x['kills']| those }}</b> kills (<b>{{ x['kills%']|round(2) }}</b>%)
                                <br><b>{{ x['deaths']| those }}</b> deaths (<b>{{ x['deaths%']|round(2) }}</b>%)
                                {% if x["K/D"] > 100000 %}<br><b>∞</b> K/D{% else %}<br><b>{{ x["K/D"] }}</b> K/D{% endif %}
                            </div>
                            <div>
                                <br><b>{{x['wins']| those}}</b> wins (<b>{{ x['wins%']|round(2) }}</b>%)
                                <br><b>{{x['losses']| those}}</b> losses (<b>{{ x['losses%']|round(2) }}</b>%)
                                {% if x['W/L'] > 100000 %}<br><b>∞</b> W/L - <b>100</b>% win rate{% else %}<br><b>{{ x['W/L'] }}</b> W/L - <b>{{x['winperc']}}</b>% win rate{% endif %}
                                <br><b>{{x['games_played']| those}}</b> games played (<b>{{ x['games_played%']|round(2) }}</b>%)
                            </div>
                        </div>
                    </div>
                    {% endif %}
                {% endfor %}
            {% else %}
            <p> No stats to show here, either!</p>
            {% endif %}
        </div>
        <!--- HEADS -->
        <div class=' sm:col-span-1 md:col-start-3 md:col-span-8 lg:col-start-2 lg:col-end-6 lg:row-span-2 bg-gray-100 rounded-2xl p-6 shadow divide-y divide-gray-300'>
            <div class="text-3xl font-semibold pb-5">
                <div id='skywars-heads' class='anchor'></div>Heads</div>
            <div class='py-5 content-center'>
                {% if swHeadsImpBool[0] %}
                <div class='text-2xl text-gray-600 font-bold mb-2'>Overall</div>
                <div class="grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 justify-between">
                    <div>
                        {% for item in swHeadsListList[0] %}
                            <b><span class="{{item[2]}}">{{item[0]}}:</b></span> <b>{{item[1]| those}}</b> (<b>{{item[3]}}</b>%)<br>
                        {% endfor %} </p>
                    </div>
                    <div class='headscont'>
                        <canvas id="heads" style="width:100%;height:100%"></canvas>
                        <script>
                        var ctx = document.getElementById('heads');
                        
                        var swHLO = {{swHeadsRaw}};
                        Chart.defaults.global.defaultFontFamily = 'Inconsolata'
                        Chart.defaults.global.defaultFontSize = 15
                        var heads = new Chart(ctx, {
                            type: 'doughnut',
                            responsive: false,
                            maintainAspectRatio:true,
                            options: {legend:{display:false}},
                            data: {
                                labels: ['Heavenly', 'Divine', 'Sweet', 'Succulent', 'Tasty', 'Salty', 'Decent', 'Meh', 'Yucky', 'Eww'],
                                datasets: [{
                                    data: swHLO,
                                    borderWidth: 1,
                                    backgroundColor: ['#a0a', '#fa0', '#5ff', '#f5f', '#0aa', '#5f5', '#ff5', '#ccc', '#aaa', '#555'],
                                }]
                            },
                        });
                        </script>
                    </div>
                </div>
                {% else %}
                <p>No heads collected.</p>
                {% endif %}
            </div>
            <div class='py-5 content-center'>
                {% if swHeadsImpBool[1] %}
                    <div class='text-2xl text-gray-600 font-bold mb-2'>Solo</div>
                        <div class="grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 justify-between">
                            <div>
                                {% for item in swHeadsListList[1] %}
                                    <b><span class="{{item[2]}}">{{item[0]}}:</b></span> <b>{{item[1]| those}}</b> (<b>{{item[3]}}</b>%)<br>
                                {% endfor %}
                            </div>
                            <div class='headscontsolo'>
                                <canvas id="headssolo" style="width:100%;height:100%"></canvas>
                                <script>
                                var ctx = document.getElementById('headssolo');
                                
                                var swHLS = {{swHeadsRawSolo}};
                                Chart.defaults.global.defaultFontFamily = 'Inconsolata'
                                Chart.defaults.global.defaultFontSize = 15
                                var headssolo = new Chart(ctx, {
                                    type: 'doughnut',
                                    responsive: false,
                                    maintainAspectRatio:true,
                                    options: {legend:{display:false}},
                                    data: {
                                        labels: ['Heavenly', 'Divine', 'Sweet', 'Succulent', 'Tasty', 'Salty', 'Decent', 'Meh', 'Yucky', 'Eww'],
                                        datasets: [{
                                            data: swHLS,
                                            borderWidth: 1,
                                            backgroundColor: ['#a0a', '#fa0', '#5ff', '#f5f', '#0aa', '#5f5', '#ff5', '#ccc', '#aaa', '#555'],
                                        }]
                                    },
                                });
                                </script>
                            </div>
                        </div>
                {% else %}
                    <p>No heads collected in Solo.</p>
                {% endif %}
            </div>
            <div class='py-5 content-center'>
                {% if swHeadsImpBool[2] %}
                <div class='text-2xl text-gray-600 font-bold mb-2'>Teams</div>
                        <div class="grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 justify-between">
                            <div>
                                {% for item in swHeadsListList[2] %}
                                    <b><span class="{{item[2]}}">{{item[0]}}:</b></span> <b>{{item[1]| those}}</b> (<b>{{item[3]}}</b>%)<br>
                                {% endfor %}</p>
                            </div>
                            <div>
                                <canvas id="headsteam" style='height:100%;width:100%;'></canvas>
                                <script>
                                var ctx = document.getElementById('headsteam');
                                
                                var swHLT = {{swHeadsRawTeam}};
                                Chart.defaults.global.defaultFontFamily = 'Inconsolata'
                                Chart.defaults.global.defaultFontSize = 15
                                var headsteam = new Chart(ctx, {
                                    type: 'doughnut',
                                    responsive: false,
                                    maintainAspectRatio:true,
                                    options: {legend:{display:false}},
                                    data: {
                                        labels: ['Heavenly', 'Divine', 'Sweet', 'Succulent', 'Tasty', 'Salty', 'Decent', 'Meh', 'Yucky', 'Eww'],
                                        datasets: [{
                                            data: swHLT,
                                            borderWidth: 1,
                                            backgroundColor: ['#a0a', '#fa0', '#5ff', '#f5f', '#0aa', '#5f5', '#ff5', '#ccc', '#aaa', '#555'],
                                        }]
                                    },
                                });
                                </script>
                            </div>
                        </div>
                {% else %}
                    <p>No heads collected in Teams.</p>
                {% endif %}
            </div>
        </div>
        <!-- Kills via -->
        <div class=' sm:col-span-1 md:col-start-3 md:col-span-8 lg:col-start-6 lg:col-end-10 bg-gray-100 rounded-2xl p-6 shadow divide-y divide-gray-300'>
            <div class="text-3xl font-semibold pb-5"><div id='skywars-kills-via' class='anchor'></div>Kills via</div>
            <div class="grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 justify-between pt-5">
                {% if swKillTypeList['success'] == True %}
                    <div>
                        {% if swKillTypeList['success'] %}
                            {% if swKillTypeList['melee'][0] %}
                            <span class='melee'><b>Melee</b></span>: <b>{{swKillTypeList['melee'][0]| those}}</b> kills (<b>{{swKillTypeList['melee'][1]}}</b>%)<br>
                            {% endif %}
                            {% if swKillTypeList['void'][0] %}
                            <span class='void'><b>Void</b></span>: <b>{{swKillTypeList['void'][0]| those}}</b> kills (<b>{{swKillTypeList['void'][1]}}</b>%)<br>
                            {% endif %}
                            {% if swKillTypeList['bow'][0] %}
                            <span class='bow'><b>Bow</b></span>: <b>{{swKillTypeList['bow'][0]| those}}</b> kills (<b>{{swKillTypeList['bow'][1]}}</b>%)<br>
                            {% endif %}
                            {% if swKillTypeList['mob'][0] %}
                            <span class='mob'><b>Mob</b></span>: <b>{{swKillTypeList['mob'][0]| those}}</b> kills (<b>{{swKillTypeList['mob'][1]}}</b>%)<br>
                            {% endif %}
                            {% if swKillTypeList['fall'][0] %}
                            <span class='fall'><b>Fall</b></span>: <b>{{swKillTypeList['fall'][0]| those}}</b> kills (<b>{{swKillTypeList['fall'][1]}}</b>%)<br>
                            {% endif %}
                            {% if swKillTypeList['other'][0] %}
                            <span class='other-c'><b>Other</b></span>: <b>{{swKillTypeList['other'][0]| those}}</b> kills (<b>{{swKillTypeList['other'][1]}}</b>%)<br>
                            {% endif %}
                        {% endif %}
                    </div>
                    <div class='canvasContainer'>
                        <canvas id="myChart" height='176'></canvas>
                        <script>
                        var ctx = document.getElementById('myChart');
                        
                        var swKTL = {{swKTLList}};
                        Chart.defaults.global.defaultFontFamily = 'Inconsolata'
                        Chart.defaults.global.defaultFontSize = 15
                        var myChart = new Chart(ctx, {
                            type: 'doughnut',
                            responsive: false,
                            maintainAspectRatio:true,
                            options: {legend:{display:false}},
                            data: {
                                labels: ['Melee', 'Void', 'Bow', 'Mob', 'Fall', 'Other'],
                                datasets: [{
                                    data: swKTL,
                                    borderWidth: 1,
                                    backgroundColor: [
                                        '#54494B',
                                        '#E6AF2E',
                                        '#EF7674',
                                        '#C7DFB9',
                                        '#91C7B1',
                                        '#A28081',
                                    ],
                                }]
                            },
                        });
                        </script>
                    </div>
                {% else %}
                    <p>Nothing to show here.</p>
                {% endif %}
            </div>
        </div>
        <!-- Time Wasted -->
        <div class=" sm:col-span-1 md:col-start-3 md:col-span-8 lg:col-start-6 lg:col-end-10 lg:row-span-2 bg-gray-100 rounded-2xl p-6 shadow divide-y divide-gray-300">
            <div class='text-3xl font-semibold pb-5'><div id='skywars-time' class='anchor'></div>Time played</div>
            <div class="pt-5">
                {% if swTimeLists[0][5] != '0s' %}
                    <div class='canvasContainer2'>
                        <canvas id="myChart2" style="width:25%;"></canvas>
                        <script>
                        var ctx = document.getElementById('myChart2');
                        
                        var swTWL = {{swTimeListPercMinusOverall}}
                        Chart.defaults.global.defaultFontFamily = 'Inconsolata'
                        Chart.defaults.global.defaultFontSize = 15
                        var myChart2 = new Chart(ctx, {
                            type: 'bar',
                            responsive: false,
                            maintainAspectRatio:true,
                            data: {
                                labels: ['Solo', 'Teams', 'Mega', 'Ranked', 'Laboratory'],
                                datasets: [{
                                    data: swTWL,
                                    borderWidth: 1,
                                    backgroundColor: [
                                        '#1F363D',
                                        '#40798C',
                                        '#70A9A1',
                                        '#9EC1A3',
                                        '#CFE0C3',
                                    ]
                                }]
                            },
                            options: {
                                legend: {
                                    display:false,
                                },
                                title: {
                                    display: true,
                                    text: 'Share of gamemodes played (%)',
                                },
                            },
                        });
                        </script>
                    </div>
                    <p>Since their first login, {{username}} has spent <b>{{ swKWperLists[2] }}</b>% of their life playing SkyWars. </p>
                    <div class="grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-2 justify-around">
                        <div>
                            <p>
                                <b>{{ swTimeLists[0][5] }}</b> in total <br>
                                {% for mode in range(5) %}
                                    <b class="{{swTimeLists[2][mode]}}">{{ swTimeModeList[mode] }}</b>: <b>{{ swTimeLists[0][mode] }}</b> (<b>{{swTimeLists[1][mode]}}</b>%)<br>
                                {% endfor %}
                            </p>
                            <p>
                                {% for item in swUnitConvList2 %}
                                    {{ item[0] }}<b>{{ '{0:,}'.format(item[1]) }}</b>{{ item[2] }} <br>
                                {% endfor %}
                            </p>
                        </div>
                        <div>
                            <p>
                                {% for item in swUnitConvList %}
                                    <b>{{ '{0:,}'.format(item[0]) }}</b> {{ item[1] }} <br>
                                {% endfor %}
                            </p>
                            <p>
                                {% for item in swKWperLists[0] %}
                                    <b>{{item[0]| thraw}}</b> kills per {{item[1]}}<br>
                                {% endfor %}
                                {% for item in swKWperLists[1] %}
                                    <b>{{item[0]| thraw}}</b> wins per {{item[1]}}<br>
                                {% endfor %}
                            </p>
                        </div>
                    </div>
                {% else %}
                    <p>Nothing to show here.</p>
                {% endif %}
            </div>
        </div>
        <!-- Souls -->
        <div class=" sm:col-span-1 md:col-start-3 md:col-span-8 lg:col-start-2 lg:col-end-6 bg-gray-100 rounded-2xl p-6 shadow divide-y divide-gray-300">
            <div class="text-3xl font-semibold pb-5"><div id='skywars-souls' class='anchor'></div>Souls</div>
            <div class="grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 justify-between pt-5">
            {% if swStatsDict['souls'] %}
                <div>
                    <p>
                        <span class="gray"><b>{{swSoulList['souls'] | those}}</b> souls</span> <br>
                        <b>{{swSoulList['souls_gathered'] | those}}</b> souls harvested <br>
                        <b>{{swSoulList['paid_souls'] | those}}</b> souls bought <br>
                    </p>
                    <p>
                        <b>{{swSoulList['souls_gathered_lab'] | those}}</b> (<b>{{swSoulList['labperc'][0]}}</b>%) souls from Lab <br>
                        <b>{{swSoulList['souls_nonlab'] | those}}</b> (<b>{{swSoulList['labperc'][1]}}</b>%) souls from non-Lab<br>
                    </p>
                    <p>
                        <span class="gold"><b>{{swSoulList['soul_well_legendaries'] | those}}</b> legendaries</span> <br>
                        <span class="blue"><b>{{swSoulList['soul_well_rares'] | those}}</b> rares</span> <br>
                        <span class="green"><b>{{swSoulList['soul_well_commons'] | those}}</b> commons</span> <br>
                        <b>{{swSoulList['soul_well'] | those}}</b> soul well uses <br>
                    </p>
                </div>
                <div class='canvasContainerSouls'>
                    <canvas id="myChartSouls" style="width:100%;height:100%"></canvas>
                    <script>
                    var ctx = document.getElementById('myChartSouls');
                    
                    var swSRL = {{swSoulsRaritiesList}};
                    Chart.defaults.global.defaultFontFamily = 'Inconsolata'
                    Chart.defaults.global.defaultFontSize = 15
                    var myChartSouls = new Chart(ctx, {
                        type: 'doughnut',
                        options: {legend:{display:false}},
                        data: {
                            labels: ['Commons', 'Rares', 'Legendaries'],
                            datasets: [{
                                data: swSRL,
                                borderWidth: 1,
                                backgroundColor: [
                                    '#5f5',
                                    '#55f',
                                    '#fa0',
                                ],
                            }]
                        },
                    });
                    </script>
                </div>
            {% else %}
                <p>No souls harvested.</p>
            {% endif %}
            </div>
        </div>
        <!-- Favorite maps & cages-->
        <div class=" sm:col-span-1 md:col-start-3 md:col-span-8 mapscag lg:col-start-2 lg:col-end-6 bg-gray-100 rounded-2xl p-6 shadow divide-y divide-gray-300">
            <div class="text-3xl font-semibold pb-5"><div id='skywars-maps-cages' class='anchor'></div>Favorite Maps & Cages</div>
            <div class="pt-5">
                <p>
                    {% if not swMapsList %}
                    No favorite maps.
                    {% else %}
                    <b><i class="twa twa-1f5fa"></i> Favorite Maps:</b> {{swMapsList}}
                    {% endif %}
                </p>
                <p>
                    {% if not swCagesList %}
                    No cages unlocked.
                    {% else %}
                    <b><i class="twa twa-1f4e6"></i> Cages unlocked:</b> {{swCagesList}}
                    {% endif %}
                </p>
            </div>
        </div>
        <!-- Angel's Descent -->
        <div class=" sm:col-span-1 md:col-start-3 md:col-span-8 lg:col-start-6 lg:col-end-10 bg-gray-100 rounded-2xl p-6 shadow divide-y divide-gray-300">
            <div class="text-3xl font-semibold pb-5"><div id='skywars-angels-descent' class='anchor'></div>Angel's Descent</div>
            <div class="pt-5">
                {% if swOpals['shards'] %}
                    <p>
                        <span class="dark_blue"><b>{{swOpals['opals']| those}}</b> opals</span><br>
                        <span class="aqua"><b>{{swOpals['shards']| those}}</b> shards</span><br>
                        <b>{{swOpals['until next opal']| those}}</b> (<b>{{swOpals['shardsTilNextPerc']}}</b>%) shards to next opal <br>
                        <b>{{swOpals['opals from prestige']}}</b> opals from prestige<br>
                    </p>
                    <p>
                        <b>{{swOpals['shard_solo']| those}}</b> shards from Solo (<b>{{swOpals['shard_solo_perc']}}</b>%)<br>
                        <b>{{swOpals['shard_team']| those}}</b> shards from Teams (<b>{{swOpals['shard_team_perc']}}</b>%)<br>
                    </p>
                    <p>
                        <b>{{swOpals['shards per kill']}}</b> shards per kill<br>
                        <b>{{swOpals['shards per game']}}</b> shards per game<br>
                    </p>
                {% else %}
                    <p>No participation in Angel's Descent.</p>
                {% endif %}
            </div>
        </div>
        <!-- Challenges -->
        <div class=" sm:col-span-1 md:col-start-3 md:col-span-8 lg:col-start-2 lg:col-end-6 bg-gray-100 rounded-2xl p-6 shadow divide-y divide-gray-300">
            <div class="text-3xl font-semibold pb-5"><div id='skywars-challenges' class='anchor'></div>Challenges</div>
                <div class='grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 pt-5 gap-2'>
                    {% if swChalAtt['overall'] %}
                    <div>
                        <p>
                            <b><i class="twa twa-1f3f9"></i> Archer attempts</b>: {{swChalAtt['archer']}} <br>
                            <b><i class="twa twa-1f494"></i> Half Health attempts</b>: {{swChalAtt['half_health']}} <br>
                            <b><i class="twa twa-1f6af"></i> No Block attempts</b>: {{swChalAtt['no_block']}} <br>
                            <b><i class="twa twa-26d4"></i> No Chest attempts</b>: {{swChalAtt['no_chest']}} <br>
                            <b><i class="twa twa-1f4d1"></i> Paper attempts</b>: {{swChalAtt['paper']}} <br>
                            <b><i class="twa twa-1f413"></i> Rookie attempts</b>: {{swChalAtt['rookie']}} <br>
                            <b><i class="twa twa-1f34f"></i> UHC attempts</b>: {{swChalAtt['uhc']}} <br>
                            <b><i class="twa twa-2694"></i> Ultimate Warrior attempts</b>: {{swChalAtt['ultimate_warrior']}} <br>
                        </p>
                        <p>
                            {% for num, items in swChalAttNum.items() %}
                                <b>{{num}}-challenge attempts</b>: {{items}} <br>
                            {% endfor %}
                        </p>
                    </div>
                    <div>
                        <p>
                            <b><i class="twa twa-1f3f9"></i> Archer wins</b>: {{swChalWins['archer']}} <br>
                            <b><i class="twa twa-1f494"></i> Half Health wins</b>: {{swChalWins['half_health']}} <br>
                            <b><i class="twa twa-1f6af"></i> No Block wins</b>: {{swChalWins['no_block']}} <br>
                            <b><i class="twa twa-26d4"></i> No Chest wins</b>: {{swChalWins['no_chest']}} <br>
                            <b><i class="twa twa-1f4d1"></i> Paper wins</b>: {{swChalWins['paper']}} <br>
                            <b><i class="twa twa-1f413"></i> Rookie wins</b>: {{swChalWins['rookie']}} <br>
                            <b><i class="twa twa-1f34f"></i> UHC wins</b>: {{swChalWins['uhc']}} <br>
                            <b><i class="twa twa-2694"></i> Ultimate Warrior wins</b>: {{swChalWins['ultimate_warrior']}} <br>
                        </p>
                        <p>
                            {% for num, items in swChalWinsNum.items() %}
                                <b>{{num}}-challenge wins</b>: {{items}} <br>
                            {% endfor %}
                        </p>
                    </div>
            {% else %}
                <p>No challenge attempts.</p>
            {% endif %}
            </div>
        </div>
        <!-- Cosmetics -->
        <div class=" sm:col-span-1 md:col-start-3 md:col-span-8 lg:col-start-6 lg:col-end-10 bg-gray-100 rounded-2xl p-6 shadow divide-y divide-gray-300">
            <div class="text-3xl font-semibold pb-5"><div id='skywars-cosmetics' class='anchor'></div>Cosmetics</div>
            <p class='pt-5'>
            {% if swCosmetics %}
                {% if 'balloon' in swCosmetics %}
                    <b>Balloon</b>: {{swCosmetics['balloon']}} <br>
                {% endif %}
                {% if 'cage' in swCosmetics %}
                <b>Cage</b>: {{swCosmetics['cage']}} <br>
                {% endif %}
                {% if 'deathcry' in swCosmetics %}
                <b>Death cry</b>: {{swCosmetics['deathcry']}} <br>
                {% endif %}
                {% if 'killeffect' in swCosmetics %}
                <b>Kill Effect</b>: {{swCosmetics['killeffect']}} <br>
                {% endif %}
                {% if 'killmessages' in swCosmetics %}
                <b>Kill messages</b>: {{swCosmetics['killmessages']}} <br>
                {% endif %}
                {% if 'projectiletrail' in swCosmetics %}
                <b>Projectile Trail</b>: {{swCosmetics['projectiletrail']}} <br>
                {% endif %}
                {% if 'sprays' in swCosmetics %}
                <b>Spray</b>: {{swCosmetics['sprays']}} <br>
                {% endif %}
                {% if 'victorydance' in swCosmetics %}
                <b>Victory Dance</b>: {{swCosmetics['victorydance']}} <br>
                {% endif %}
            {% else %}
                No cosmetics selected.
            {% endif %}
            </p>
        </div>
                
        <!-- BedWars -->
        <div class=" sm:col-span-1 md:col-start-3 md:col-span-8 lg:col-start-2 lg:col-end-10 rounded-2xl text-4xl font-bold p-6 shadow text-center bg-gradient-to-r from-yellow-100 to-red-600 text-white two-px-border">
            <div id='bedwars' class='anchor'></div>BedWars</div>
        
        <!-- Overall -->
        <div class=" sm:col-span-1 md:col-start-3 md:col-span-8 lg:col-start-2 lg:col-end-5 bg-gray-100 rounded-2xl p-6 shadow divide-y divide-gray-300 ">
            <div class="text-3xl font-semibold pb-5"><div id='bedwars-overall' class='anchor'></div>Overall</div>
            <div class='pt-5'>
                <p>
                    <b><span class="{{bwOverallStats['prestige'][1]}}">
                        [{{bwOverallStats['level']| those}}☆]
                    </span></b>
                    {{username}} <br>
                    <b><span class="{{bwOverallStats['prestige'][1]}}">
                        {{bwOverallStats['prestige'][0]}}
                    </span></b>
                    Prestige - <b>{{bwOverallStats['prestige'][2]}}</b>% to
                    <b><span class="{{bwOverallStats['prestige'][1]}}">[{{(bwOverallStats['level']+1)| those}}☆]
                    </span></b>
                    <br>
                    <b>{{bwOverallStats['Experience']| those}}</b> experience <br>
                </p>
                <p>
                    <b>{{bwOverallStats['kills_bedwars']| those}}</b> kills<br>
                    <b>{{bwOverallStats['deaths_bedwars']| those}}</b> deaths<br>
                    <b>{{bwOverallStats['K/D']}}</b> K/D<br>
                </p>
                <p>
                    <b>{{bwOverallStats['final_kills_bedwars']| those}}</b> final kills<br>
                    <b>{{bwOverallStats['final_deaths_bedwars']| those}}</b> final deaths<br>
                    <b>{{bwOverallStats['finK/D']}}</b> final K/D<br>
                </p>
                <p>
                    <b>{{bwOverallStats['K/FD']}}</b> kills/final deaths<br>
                    <b>{{bwOverallStats['FK/D']}}</b> final kills/deaths<br>
                </p>
                <p>
                    <b>{{bwOverallStats['winstreak']| those}}</b> winstreak<br>
                    <b>{{bwOverallStats['games_played_bedwars']| those}}</b> games played <br>
                </p>
                <p>
                    <b>{{bwOverallStats['wins_bedwars']| those}}</b> wins<br>
                    <b>{{bwOverallStats['losses_bedwars']| those}}</b> losses<br>
                    <b>{{bwOverallStats['W/L']}}</b> W/L - <b>{{bwOverallStats['winrate']}}</b>% win rate<br>
                </p>
                <p>
                    <b>{{bwOverallStats['beds_broken_bedwars']| those}}</b> beds broken<br>
                    <b>{{bwOverallStats['beds_lost_bedwars']| those}}</b> beds lost<br>
                    <b>{{bwOverallStats['B/L']}}</b> bed break/lose<br>
                </p>
                <p>
                    <b>{{bwOverallStats['_items_purchased_bedwars']| those}}</b> total purchases<br>
                    <b>{{bwOverallStats['resources_collected_bedwars']| those}}</b> resources collected<br>
                    <b>{{bwOverallStats['items/game']| thraw}}</b> purchases per game<br>
                    <b>{{bwOverallStats['resources/game']| thraw}}</b> resources collected per game<br>
                </p>
            </div>
        </div>

        <!-- BedWars by mode -->
        <div class=" sm:col-span-1 md:col-start-3 md:col-span-8 lg:col-start-5 lg:col-end-10 bg-gray-100 rounded-2xl p-6 shadow divide-y divide-gray-300">
            <div class="text-3xl font-semibold pb-5"><div id='bedwars-by-mode' class='anchor'></div>Stats by mode</div>
            {% if bwOverallStats['games_played_bedwars'] > 0 %}
                <div>
                    {% if bwMKWList[3] != '' and bwMKWList[4] != '' and bwMKWList[5] != '' %}
                        <p>{{username}} plays <b>{{bwMKWList[3]}}</b> the most, has the highest K/D in <b>{{bwMKWList[4]}}</b>, and has the highest W/L in <b>{{bwMKWList[5]}}</b>.
                    {% endif %}
                </div>
                <div class='flex sm:flex-col md:flex-row lg:flex-row pt-5'>
                    <div class='tabsBedWarsModes py-3'>
                        {% for mode in bwModeStats %}
                            {% if bwModeStats[mode]['games_played_bedwars'][0] > 0 %}
                                <button class="bwTabLinks text-xl text-left text-gray-600 font-bold leading-none md:p-1.5 md:mb-1.5 lg:p-1.5 lg:mb-1.5 sm:p-1 sm:mb-0.5 mr-5 rounded-lg bg-gray-200 focus:bg-gray-300 focus:outline-none hover:bg-gray-300" onclick="bwTabs(event, '{{mode}}')" id="defaultOpenBw">
                                    {% if ' ' in bwTranslateList[mode] %}
                                        <span class="text-xl">{{(bwTranslateList[mode] | split)[1]}}</span><span class="text-base text-gray-400 font-extrabold"> {{(bwTranslateList[mode] | split)[0]}}</span>
                                    {% else %}
                                        {{bwTranslateList[mode]}}
                                    {% endif %}
                                </button>
                                <br>
                            {% endif %}
                        {% endfor %}
                    </div>
                    {% for mode in bwModeStats %}
                        {% if bwModeStats[mode]['games_played_bedwars'][0] > 0 %}
                            <div id='{{mode}}' class='bwTabContent sm:mt-5'>
                                <p>
                                    {% if bwCompList[mode]['compkd'][0] > 100000 %}
                                        <span class="almost"><b>infinite</b></span> K/D
                                    {% elif bwCompList[mode]['compkd'][0] > 0 %}
                                        <span class="dark_green"><b>{{bwCompList[mode]['compkd'][0] | abs }}</b></span> higher K/D (<span class="dark_green">+<b>{{bwCompList[mode]['compkd'][1]}}</b>%</span>)
                                    {% else %}
                                        <span class="red"><b>{{bwCompList[mode]['compkd'][0] | abs}}</b></span> lower K/D (<span class="red"><b>{{bwCompList[mode]['compkd'][1]}}</b>%</span>)
                                    {% endif %}
                                    <br>
                                    {% if bwCompList[mode]['compfkd'][0] > 100000 %}
                                        <span class="almost"><b>infinite</b></span> final K/D
                                    {% elif bwCompList[mode]['compfkd'][0] > 0 %}
                                        <span class="dark_green"><b>{{bwCompList[mode]['compfkd'][0]| abs}}</b></span> higher final K/D (<span class="dark_green">+<b>{{bwCompList[mode]['compfkd'][1]}}</b>%</span>)
                                    {% else %}
                                        <span class="red"><b>{{bwCompList[mode]['compfkd'][0]| abs}}</b></span> lower final K/D (<span class="red"><b>{{bwCompList[mode]['compfkd'][1]}}</b>%</span>)
                                    {% endif %}
                                    <br>
                                    {% if bwCompList[mode]['compwl'][0] > 100000 %}
                                        <span class="almost"><b>infinite</b></span> W/L
                                    {% elif bwCompList[mode]['compwl'][0] > 0 %}
                                        <span class="dark_green"><b>{{bwCompList[mode]['compwl'][0]| abs}}</b></span> higher W/L (<span class="dark_green">+<b>{{bwCompList[mode]['compwl'][1]}}</b>%</span>)
                                    {% else %}
                                        <span class="red"><b>{{bwCompList[mode]['compwl'][0]| abs}}</b></span> lower W/L (<span class="red"><b>{{bwCompList[mode]['compwl'][1]}}</b>%</span>)
                                    {% endif %}
                                </p>
            
                                <div class='grid sm:grid-cols-1 md:lg-grid-cols lg:grid-cols-2 gap-2'>
                                    <div>
                                        <p>
                                            <b>{{ bwModeStats[mode]['kills_bedwars'][0]| those }}</b> kills (<b>{{ bwModeStats[mode]['kills_bedwars'][1]}}</b>%) <br>
                                            <b>{{ bwModeStats[mode]['deaths_bedwars'][0]| those }}</b> deaths (<b>{{ bwModeStats[mode]['deaths_bedwars'][1]}}</b>%) <br>
                                            <b>{{ bwModeStats[mode]['K/D'] }}</b> K/D <br>
                                        </p>
                                        <p>
                                            <b>{{ bwModeStats[mode]['final_kills_bedwars'][0]| those }}</b> final kills (<b>{{ bwModeStats[mode]['final_kills_bedwars'][1]}}</b>%) <br>
                                            <b>{{ bwModeStats[mode]['final_deaths_bedwars'][0]| those }}</b> final deaths (<b>{{ bwModeStats[mode]['final_deaths_bedwars'][1]}}</b>%) <br>
                                            <b>{{ bwModeStats[mode]['finK/D'] }}</b> final K/D<br>
                                        </p>
                                        <p>
                                            <b>{{ bwModeStats[mode]['K/FD'] }}</b> kills/final deaths<br>
                                            <b>{{ bwModeStats[mode]['FK/D'] }}</b> final kills/deaths<br>
                                        </p>
                                        <p>
                                            <b>{{ bwModeStats[mode]['iron_resources_collected_bedwars'][0]| those }}</b> iron collected (<b>{{ bwModeStats[mode]['iron_resources_collected_bedwars'][1]}}</b>%) <br>
                                            <b>{{ bwModeStats[mode]['gold_resources_collected_bedwars'][0]| those }}</b> gold collected (<b>{{ bwModeStats[mode]['gold_resources_collected_bedwars'][1]}}</b>%) <br>
                                            <b>{{ bwModeStats[mode]['diamond_resources_collected_bedwars'][0]| those }}</b> diamonds collected (<b>{{ bwModeStats[mode]['diamond_resources_collected_bedwars'][1]}}</b>%) <br>
                                            <b>{{ bwModeStats[mode]['emerald_resources_collected_bedwars'][0]| those }}</b> emeralds collected (<b>{{ bwModeStats[mode]['emerald_resources_collected_bedwars'][1]}}</b>%) <br>
                                        </p>
                                    </div>
                                    <div>
                                        <p>
                                            <b>{{ bwModeStats[mode]['winstreak'][0]| those }}</b> winstreak<br>
                                            <b>{{ bwModeStats[mode]['games_played_bedwars'][0]| those }}</b> games played (<b>{{ bwModeStats[mode]['games_played_bedwars'][1]}}</b>%) <br>
                                        </p>
                                        <p>
                                            <b>{{ bwModeStats[mode]['wins_bedwars'][0]| those }}</b> wins (<b>{{ bwModeStats[mode]['wins_bedwars'][1]}}</b>%) <br>
                                            <b>{{ bwModeStats[mode]['losses_bedwars'][0]| those }}</b> losses (<b>{{ bwModeStats[mode]['losses_bedwars'][1]}}</b>%) <br>
                                            <b>{{ bwModeStats[mode]['W/L'] }}</b> W/L - <b>{{ bwModeStats[mode]['winrate'] }}</b>% win rate<br>
                                        </p>
                                        <p>
                                            <b>{{ bwModeStats[mode]['beds_broken_bedwars'][0]| those }}</b> beds broken (<b>{{ bwModeStats[mode]['beds_broken_bedwars'][1]}}</b>%) <br>
                                            <b>{{ bwModeStats[mode]['beds_lost_bedwars'][0]| those }}</b> beds lost (<b>{{ bwModeStats[mode]['beds_lost_bedwars'][1]}}</b>%) <br>
                                            <b>{{ bwModeStats[mode]['B/L'] }}</b> bed break/lose ratio <br>
                                        </p>
                                        
                                        <p>
                                            <b>{{ bwModeStats[mode]['_items_purchased_bedwars'][0]| those}}</b> purchases (<b>{{ bwModeStats[mode]['_items_purchased_bedwars'][1]}}</b>%) <br>
                                            <b>{{ bwModeStats[mode]['resources_collected_bedwars'][0]| those}}</b> resources collected (<b>{{ bwModeStats[mode]['resources_collected_bedwars'][1]}}</b>%) <br>
                                            <b>{{ bwModeStats[mode]['purc/game'] | thraw}}</b> purchases per game <br>
                                            <b>{{ bwModeStats[mode]['resc/game'] | thraw}}</b> resources collected per game <br>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
            {% else %}
            <p class='pt-5'>No stats to show!</p>
            {% endif %}
        </div>

        <!-- Kills via -->
        <div class=" sm:col-span-1 md:col-start-3 md:col-span-8 lg:col-start-2 lg:col-end-6 bg-gray-100 rounded-2xl p-6 shadow divide-y divide-gray-300">
            <div class="text-3xl font-semibold pb-5"><div id='bedwars-kills-via' class='anchor'></div>Kills via</div>
            <div class='grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 justify-between pt-5'>
                {% if bwOverallStats['kills_bedwars'] %}
                    <div>
                        <p>
                            <b class='melee'>Melee</b>: {{bwKillsList[0]['Melee'][0]| those}} (<b>{{bwKillsList[0]['Melee'][1]}}</b>%)<br>
                            <b class='bow'>Projectile</b>: {{bwKillsList[0]['Projectile'][0]| those}} (<b>{{bwKillsList[0]['Projectile'][1]}}</b>%)<br>
                            <b class='void'>Void</b>: {{bwKillsList[0]['Void'][0]| those}} (<b>{{bwKillsList[0]['Void'][1]}}</b>%)<br>
                            <b class='magic'>Magic</b>: {{bwKillsList[0]['Magic'][0]| those}} (<b>{{bwKillsList[0]['Magic'][1]}}</b>%)<br>
                            <b class='mob'>Entity</b>: {{bwKillsList[0]['Entity'][0]| those}} (<b>{{bwKillsList[0]['Entity'][1]}}</b>%)<br>
                            <b class='mob-explode'>Entity Explosion</b>: {{bwKillsList[0]['Entity explosion'][0]| those}} (<b>{{bwKillsList[0]['Entity explosion'][1]}}</b>%)<br>
                            <b class='fired'>Fire</b>: {{bwKillsList[0]['Fire'][0]| those}} (<b>{{bwKillsList[0]['Fire'][1]}}</b>%)<br>
                            <b class='fall'>Fall Damage</b>: {{bwKillsList[0]['Fall damage'][0]| those}} (<b>{{bwKillsList[0]['Fall damage'][1]}}</b>%)<br>
                        </p>
                        <p>
                            {% for name, num in bwKillsList[1].items() %}
                                {% if num != 0 %}
                                    <b>{{name}}</b>: {{num| those}} <br>
                                {% endif %}
                            {% endfor %}
                        </p>
                    </div>
                    <div class='canvasKillsVia'>
                        <canvas id="killsvia" style="width:100%;height:100%"></canvas>
                        <script>
                        var ctx = document.getElementById('killsvia');
                        
                        var killsvia = {{bwPureKillsLists[0]}};
                        Chart.defaults.global.defaultFontFamily = 'Inconsolata'
                        Chart.defaults.global.defaultFontSize = 15
                        var killsva = new Chart(ctx, {
                            type: 'doughnut',
                            responsive: false,
                            maintainAspectRatio:true,
                            options: {legend:{display:false}},
                            data: {
                                labels: ['Projectile', 'Void', 'Magic', 'Entity', 'Entity explosion', 'Fire', 'Fall Damage', 'Melee'],
                                datasets: [{
                                    data: killsvia,
                                    borderWidth: 1,
                                    backgroundColor: [
                                        '#EF7674',
                                        '#E6AF2E',
                                        '#B33951',
                                        '#C7DFB9',
                                        '#15616D',
                                        '#E3D081',
                                        '#91C7B1',
                                        '#54494B',
                                    ],
                                }]
                            },
                        });
                        </script>
                    </div>
                {% else %}
                    <p>Nothing to show here.</p>
                {% endif %}
            </div>
        </div>
        
        <!-- Loot chests -->
        <div class=" sm:col-span-1 md:col-start-3 md:col-span-8 lg:col-start-6 lg:col-end-10 bg-gray-100 rounded-2xl p-6 shadow divide-y divide-gray-300">
            <div class="text-3xl font-semibold pb-5"><div id='bedwars-loot-chests' class='anchor'></div>Loot chests</div>
            <div class='grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 justify-between pt-5'>
                {% if bwLootBoxes['bedwars_box'] %}
                    <div>
                        <p>
                            <b>Total loot chests</b>: {{bwLootBoxes['bedwars_box']| those}} <br>
                            <b>Current loot chests</b>: {{bwLootBoxes['bedwars_boxes'][0]| those}} (<b>{{bwLootBoxes['bedwars_boxes'][1]}}</b>%) <br>
                        </p>
                        <p>
                            <b><span class="gold">Legendaries</span></b>: {{bwLootBoxes['bedwars_box_legendaries'][0]| those}} (<b>{{bwLootBoxes['bedwars_box_legendaries'][1]}}</b>%) <br>
                            <b><span class="dark_purple">Epics</span></b>: {{bwLootBoxes['bedwars_box_epics'][0]| those}} (<b>{{bwLootBoxes['bedwars_box_epics'][1]}}</b>%) <br>
                            <b><span class="blue">Rares</span></b>: {{bwLootBoxes['bedwars_box_rares'][0]| those}} (<b>{{bwLootBoxes['bedwars_box_rares'][1]}}</b>%) <br>
                            <b><span class="green">Commons</span></b>: {{bwLootBoxes['bedwars_box_commons'][0]| those}} (<b>{{bwLootBoxes['bedwars_box_commons'][1]}}</b>%) <br>
                        </p>
                        <p class='mb-12'>
                            <b><i class="twa twa-1f3ee"></i> <span class="red">Lunar</span> Crates</b>: {{bwLootBoxes['bedwars_lunar_boxes'][0]| those}} (<b>{{bwLootBoxes['bedwars_lunar_boxes'][1]}}</b>%) <br>
                            <b><i class="twa twa-1f407"></i> <span class="aqua">Easter</span> Crates</b>: {{bwLootBoxes['bedwars_easter_boxes'][0]| those}} (<b>{{bwLootBoxes['bedwars_easter_boxes'][1]}}</b>%) <br>
                            <b><i class="twa twa-1f383"></i> <span class="orange">Halloween</span> Crates</b>: {{bwLootBoxes['bedwars_halloween_boxes'][0]| those}} (<b>{{bwLootBoxes['bedwars_halloween_boxes'][1]}}</b>%) <br>
                            <b><i class="twa twa-1f384"></i> <span class="dark_green">Christmas</span> Crates</b>: {{bwLootBoxes['bedwars_christmas_boxes'][0]| those}} (<b>{{bwLootBoxes['bedwars_christmas_boxes'][1]}}</b>%) <br>
                        </p>
                    </div>
                    <div class='cvLootBox'>
                        <canvas id="lootbox" style="width:100%;height:100%"></canvas>
                        <script>
                        var ctx = document.getElementById('lootbox');
                        
                        var lootboxed = {{bwLootPure[1:5]}};
                        Chart.defaults.global.defaultFontFamily = 'Inconsolata'
                        Chart.defaults.global.defaultFontSize = 15
                        var lootboxer = new Chart(ctx, {
                            type: 'doughnut',
                            responsive: false,
                            maintainAspectRatio:true,
                            options: {
                                legend: {
                                    display: false,
                                }
                            },
                            data: {
                                labels: ['Legendaries','Epics','Rares','Commons'],
                                datasets: [{
                                    data: lootboxed,
                                    borderWidth: 1,
                                    backgroundColor: [
                                        '#fa0',
                                        '#a0a',
                                        '#55f',
                                        '#5f5',
                                    ],
                                }]
                            },
                        });
                        </script>
                    </div>
                {% else %}
                    <p>No loot chests.</p>
                {% endif %}
            </div>
        </div>

        <!-- Final kills -->
        <div class=" sm:col-span-1 md:col-start-3 md:col-span-8 lg:col-start-2 lg:col-end-6 bg-gray-100 rounded-2xl p-6 shadow divide-y divide-gray-300">
            <div class="text-3xl font-semibold pb-5"><div id='bedwars-final-kills' class='anchor'></div>Final kills via</div>
            <div class='pt-5 grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 justify-between'>
                {% if bwOverallStats['final_kills_bedwars'] %}
                    <div>
                        <p>
                            <b class='melee'>Melee</b>: {{bwKillsList[2]['Melee'][0]| those}} (<b>{{bwKillsList[2]['Melee'][1]}}</b>%)<br>
                            <b class='bow'>Projectile</b>: {{bwKillsList[2]['Projectile'][0]| those}} (<b>{{bwKillsList[2]['Projectile'][1]}}</b>%)<br>
                            <b class='void'>Void</b>: {{bwKillsList[2]['Void'][0]| those}} (<b>{{bwKillsList[2]['Void'][1]}}</b>%)<br>
                            <b class='magic'>Magic</b>: {{bwKillsList[2]['Magic'][0]| those}} (<b>{{bwKillsList[2]['Magic'][1]}}</b>%)<br>
                            <b class='mob'>Entity</b>: {{bwKillsList[2]['Entity'][0]| those}} (<b>{{bwKillsList[2]['Entity'][1]}}</b>%)<br>
                            <b class='mob-explode'>Entity Explosion</b>: {{bwKillsList[2]['Entity explosion'][0]| those}} (<b>{{bwKillsList[2]['Entity explosion'][1]}}</b>%)<br>
                            <b class='fired'>Fire</b>: {{bwKillsList[2]['Fire'][0]| those}} (<b>{{bwKillsList[2]['Fire'][1]}}</b>%)<br>
                            <b class='fall'>Fall Damage</b>: {{bwKillsList[2]['Fall damage'][0]| those}} (<b>{{bwKillsList[2]['Fall damage'][1]}}</b>%)<br>
                        </p>
                        {% for name, num in bwKillsList[3].items() %}
                            {% if num != 0 %}
                                <b>{{name}}</b>: {{num| those}} <br>
                            {% endif %}
                        {% endfor %}
                    </div>
                    <div class='cvFKV'>
                        <canvas id="finkillsvia" style="width:100%;height:100%"></canvas>
                        <script>
                        var ctx = document.getElementById('finkillsvia');
                        
                        var finkillsvia = {{bwPureKillsLists[1]}};
                        Chart.defaults.global.defaultFontFamily = 'Inconsolata'
                        Chart.defaults.global.defaultFontSize = 15
                        var fkillsva = new Chart(ctx, {
                            type: 'doughnut',
                            responsive: false,
                            maintainAspectRatio:true,
                            options: {legend:{display:false}},
                            data: {
                                labels: ['Projectile', 'Void', 'Magic', 'Entity', 'Entity explosion', 'Fire', 'Fall Damage', 'Melee'],
                                datasets: [{
                                    data: finkillsvia,
                                    borderWidth: 1,
                                    backgroundColor: [
                                        '#EF7674',
                                        '#E6AF2E',
                                        '#B33951',
                                        '#C7DFB9',
                                        '#15616D',
                                        '#E3D081',
                                        '#91C7B1',
                                        '#54494B',
                                    ],
                                }]
                            },
                        });
                        </script>
                    </div>
                {% else %}
                    <p>Nothing to show here.</p>
                {% endif %}
            </div>
        </div>

        <!-- Resources collected -->
        <div class=" sm:col-span-1 md:col-start-3 md:col-span-8 lg:col-start-6 lg:col-end-10 bg-gray-100 rounded-2xl p-6 shadow divide-y divide-gray-300">
            <div class="text-3xl font-semibold pb-5"><div id='bedwars-resources' class='anchor'></div>Resources collected</div>
            <div class='pt-5 grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 justify-between'>
                {% if bwTotalResources %}
                    <div>
                        <p>
                            <b>{{bwResCol[0]| those}} <span class="gray">iron</span></b> collected (<b>{{bwResColPerc[0]}}</b>%) <br>
                            <b>{{bwResCol[1]| those}} <span class="gold">gold</span></b> collected (<b>{{bwResColPerc[1]}}</b>%) <br>
                            <b>{{bwResCol[2]| those}} <span class="aqua">diamonds</span></b> collected (<b>{{bwResColPerc[2]}}</b>%) <br>
                            <b>{{bwResCol[3]| those}} <span class="green">emeralds</span></b> collected (<b>{{bwResColPerc[3]}}</b>%) <br>
                            <b>{{bwResCol[4]| those}} <span class="red">presents</span></b> collected (<b>{{bwResColPerc[4]}}</b>%) <br>
                        </p>
                        <p class='mb-24'>
                            <b>{{bwTotalResources| those}}</b> total resources collected<br>
                            <b>{{bwItemsPurchased| those}}</b> total purchases<br>
                        </p>
                    </div>
                    <div>
                        <canvas id="RESCOL" style="width:100%;height:100%"></canvas>
                        <script>
                        var ctx = document.getElementById('RESCOL');
                        
                        var RESCOL = {{bwResCol}};
                        Chart.defaults.global.defaultFontFamily = 'Inconsolata'
                        Chart.defaults.global.defaultFontSize = 15
                        var rescolss = new Chart(ctx, {
                            type: 'doughnut',
                            responsive: false,
                            maintainAspectRatio:true,
                            options: {legend:{display:false}},
                            data: {
                                labels: ['Iron','Gold','Diamonds','Emeralds','Wrapped Presents'],
                                datasets: [{
                                    data: RESCOL,
                                    borderWidth: 1,
                                    backgroundColor: [
                                        '#ccc',
                                        '#fa0',
                                        '#5ff',
                                        '#5f5',
                                        '#f55',
                                    ],
                                }]
                            },
                        });
                        </script>
                    </div>
                {% else %}
                    <p>No resources collected.</p>
                {% endif %}
            </div>
        </div>

        <!-- Cosmetics -->
        <div class=" sm:col-span-1 md:col-start-3 md:col-span-8 lg:col-start-2 lg:col-end-6 bg-gray-100 rounded-2xl p-6 shadow divide-y divide-gray-300">
            <div class="text-3xl font-semibold pb-5"><div id='bedwars-cosmetics' class='anchor'></div>Cosmetics</div>
            <div class="pt-5">
                {% if bwCosmetics %}
                    {% for x, y in bwCosmetics.items() %}
                        <b>{{x}}</b>: {{y}}<br>
                    {% endfor %}
                {% else %}
                    <p>No cosmetics selected.</p>
                {% endif %}
            </div>
        </div>

        <!-- Guild -->
        {% if guildDict['success'] %}
            <div class="sm:col-span-1 md:col-start-3 md:col-span-8 lg:col-start-2 lg:col-end-10 bg-gray-100 rounded-2xl text-4xl p-6 shadow font-semibold text-center bg-gradient-to-r from-blue-900 to-pink-900 text-white two-px-border">
                <div id='guild' class='anchor'></div>
                {% if guildDict['success'] %}
                    {{guildDict['name']}}
                    {% if guildDict['tag'] %}
                        <b class="{{guildDict['tagColor']}}">[{{guildDict['tag']}}]</b>
                    {% endif %}
                {% endif %}
            </div>
            <div class=' sm:col-span-1 md:col-start-3 md:col-span-8 lg:col-start-2 lg:col-end-6 bg-gray-100 rounded-2xl p-6 shadow divide-y divide-gray-300'>
                <div class='py-1'>
                    <p>
                        <b>Description</b>: <i>{{guildDict['description']}}</i><br>
                        <b>Guild ID</b>: {{guildDict['_id']}}<br>
                        <b>Date of creation</b>: {{guildDict['created']}}<br>
                        <b>Preferred games</b>: {{guildDict['preferredGamesTL']}}<br>
                    </p>
                    <p>
                        Guild Level <b>{{guildDict['level']|floor}}</b> - <b>{{guildDict['levelLeft'] | those}}</b> XP (<b>{{guildDict['levelPercThere']}}</b>%) to <b>{{guildDict['level']|floor +1}}</b><br>
                        <b class="dark_green">{{guildDict['exp'] | those}}</b> total Guild XP<br>
                        <b class="gold">{{guildDict['coinsEver'] | those}}</b> lifetime coins<br>
                        <b class="gold">{{guildDict['coins'] | those}}</b> current coins<br>
                    </p>
                    <p>
                        <b>
                            {% if guildDict['joinable'] %}
                                <span class="dark_green">Publicly joinable</span>
                            {% else %}
                                <span class="red">Not publicly joinable</span>
                            {% endif %}<br>
                            {% if guildDict['publiclyListed'] %}
                                <span class="dark_green">Publicly listed</span>
                            {% else %}
                                <span class="red">Not publicly listed</span>
                            {% endif %}<br>
                        </b>
                    </p>
                    <p>
                        <b>Achievement winners</b>: {{guildDict['achievements']['WINNERS'] | those}}<br>
                        <b>Experience kings</b>: {{guildDict['achievements']['EXPERIENCE_KINGS'] | those}}<br>
                        <b>Online players</b>: {{guildDict['achievements']['ONLINE_PLAYERS'] | those}}<br>
                    </p>
                    <p>
                        <b>Preferred games</b>: {% if guildDict['preferredGames'] %}{{guildDict['preferredGamesTL']}}{% else %}No preferred games set.{% endif %}
                    </p>
                </div>
            </div>
            <div class=' sm:col-span-1 md:col-start-3 md:col-span-8 lg:col-start-6 lg:col-end-10 bg-gray-100 rounded-2xl p-6 shadow divide-y divide-gray-300'>
                <div class='text-3xl font-semibold pb-5'>Guild Ranks</div>
                <div class="pt-5">
                    {% for z, a in guildDict['theGuildRanks'].items() %}
                        <b>{{z}}</b>
                        {% if a[1] %} <b class='gray'>[{{a[1]}}]</b>{% endif %}
                        {% if a[0] %} <i>(default)</i>{% endif%}
                        - created <b>{{a[2]}}</b><br>
                    {% endfor %}
                </div>
            </div>
            <div class=" sm:col-span-1 md:col-start-3 md:col-span-8 lg:col-start-2 lg:col-end-10 bg-gray-100 rounded-2xl p-6 shadow divide-y divide-gray-300">
                <div class='text-3xl font-semibold pb-5'>Guild XP earned by game</div>
                <div class="pt-5 flex md:flex-row lg:flex-row sm:flex-col gap-4">
                    <div class='flex-none max-h-full'>
                        {% for d, f in guildDict['GXPBG'].items() %}
                            <b>{{d}}</b>: {{f | those}}<br>
                        {% endfor %}
                    </div>
                    <div class='canvGuildXP' style='width:100%;max-height:100%'>
                        <canvas id="GXPCANVAS" style='width:100%;height:100%'></canvas>
                        <script>
                        var ctx = document.getElementById('GXPCANVAS');
                        
                        var data = {{guildDict['GXPBG'].values() | list}};
                        Chart.defaults.global.defaultFontFamily = 'Inconsolata'
                        Chart.defaults.global.defaultFontSize = 15
                        var why = new Chart(ctx, {
                            type: 'bar',
                            responsive: false,
                            maintainAspectRatio:true,
                            options: {legend:{display:false}, plugins:{tooltip:{backgroundColor:'rgba(256,256,256,1)'}}},
                            data: {
                                labels: {{guildDict['GXPBG'].keys() | list | safe}},
                                datasets: [{
                                    data: data,
                                    borderWidth: 1,
                                    backgroundColor: ['#a00','#f55','#fa0','#ff5','#0a0','#5f5','#5ff','#0aa','#00a','#55f','#f5f','#a0a','#fff','#aaa','#555','#a00','#f55','#fa0','#ff5','#0a0','#5f5','#5ff','#0aa','#00a','#55f','#f5f','#a0a','#fff','#aaa','#555'] 
                                }]
                            },
                        });
                        </script>
                    </div>
                </div>
            </div>
        {% else %}
            <div id='guild' class="sm:col-span-1 md:col-start-3 md:col-span-8 lg:col-start-2 lg:colend-10 bg-gray-100 rounded-2xl text-4xl p-6 shadow font-semibold text-center bg-gradient-to-r from-blue-900 to-pink-900 text-white two-px-border">No guild</div>
        {% endif %}
        </div>
    <script src='/static/table.js'></script>
    <script src='/static/tabs.js'></script>
    <script src='/static/toc.js'></script>
</body>
{% endblock %}
